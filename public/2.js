(window.webpackJsonp=window.webpackJsonp||[]).push([[2,4],{"+sS5":function(e,t,s){"use strict";s.r(t);var n={name:"index"},a=s("KHd+"),i=Object(a.a)(n,(function(){var e=this.$createElement,t=this._self._c||e;return t("header",{staticClass:"site-header"},[t("div",{staticClass:"site-logo"},[t("router-link",{staticClass:"site-logo-link",attrs:{to:{name:"home"}}},[t("img",{staticClass:"site-logo-img",attrs:{src:"/images/logo.png",alt:"Life and Death"}}),this._v(" "),t("h1",[this._v("Life and Death with Corona")])])],1),this._v(" "),t("div",{staticClass:"site-navigation"},[t("ul",{staticClass:"navigation-list"},[t("li",{staticClass:"navigation-list-item"},[t("router-link",{attrs:{to:{name:"home"}}},[this._v("Home")])],1),this._v(" "),t("li",{staticClass:"navigation-list-item"},[t("router-link",{attrs:{to:{name:"leaderboard"}}},[this._v("Leaderboard")])],1)])])])}),[],!1,null,null,null);t.default=i.exports},pNFQ:function(e,t,s){"use strict";s.r(t);var n=s("L2JU"),a={methods:{helloWorld:function(e){return e},numberWithDot:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},formattedElapsedTime:function(){var e=new Date(null);e.setSeconds(this.elapsedTime/1e3);var t=e.toUTCString();return t.substr(t.indexOf(":")-2,8)},randomIntFromInterval:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)}}},i={name:"gauge",mixins:[a],props:{name:String,number:Number},data:function(){return{style:"",CounterNumber:0}},watch:{number:function(e,t){var s=this.HandleUpOrDown(e,t),n=this.HandleRotate(e);this.counter(t,e,3,s),this.style=" transform: rotate("+n+"deg);"}},created:function(){this.number<=0&&(this.style=" transform: rotate(-95deg);")},methods:{counter:function(e,t,s,n){var a=this,i=e,r=t-e;r=r<0?-1*r:r;var o=1,u=setInterval((function(){o=a.HandleIncrement(e,t),"up"===n&&((i+=o)===t||i>=t?(clearInterval(u),a.CounterNumber=t):a.CounterNumber=i),"down"===n&&((i-=o)===t||i<=t?(clearInterval(u),a.CounterNumber=t):a.CounterNumber=i)}),100)},RandomMinMaxNumber:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},HandleRotate:function(e){var t;return e<1&&(t=-95),1===e&&(t=-93),e>=1&&(t=-90),e>=10&&(t=-88),e>=50&&(t=-87),e>=100&&(t=-86),e>=300&&(t=-84),e>=600&&(t=-82),e>=800&&(t=-80),e>=1e3&&(t=-70),e>=1500&&(t=-60),e>=3e3&&(t=-40),e>=6e3&&(t=-20),e>=1e4&&(t=0),e>=2e4&&(t=10),e>=5e4&&(t=40),e>=2e5&&(t=60),e>=4e5&&(t=80),e>=2e6&&(t=90),t},HandleUpOrDown:function(e,t){var s;return e>t&&(s="up"),e<t&&(s="down"),s},HandleIncrement:function(e,t){var s=t-e,n=1;if((s=s<0?-1*s:s)<=30&&(n=1),s>30){var a=s/30;n=Math.round(a)}return n}}},r=s("KHd+"),o={name:"akw",mixins:[a],computed:{AkwDead:function(){return this.$store.getters.getAkwDead}},data:function(){return{CounterNumber:0}},watch:{AkwDead:function(e,t){this.counter(t,e)}},methods:{counter:function(e,t){var s=this,n=e,a=setInterval((function(){n+=s.RandomMinMaxNumber(1e5,15e4),s.CounterNumber=n,(n===t||n>=t)&&(clearInterval(a),s.CounterNumber=t)}),100)},RandomMinMaxNumber:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)}}},u={name:"score",mixins:[a],computed:{Infected:function(){return this.$store.getters.getInfected},Dead:function(){return this.$store.getters.getDead},AkwDead:function(){return this.$store.getters.getAkwDead}},components:{"v-gauge":Object(r.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"fuel"},[s("img",{staticClass:"fuel-scala",attrs:{src:"images/score/gauge_filter.png",alt:"Gauge"}}),e._v(" "),s("img",{staticClass:"fuel-needle",style:e.style,attrs:{src:"images/score/zeiger.svg",alt:"Pointer"}})]),e._v(" "),s("div",{staticClass:"fuel-counter"},[s("span",[e._v(" "+e._s(e.name))]),e._v(" "),s("span",[e._v(" "+e._s(e.numberWithDot(e.CounterNumber))+" ")])])])}),[],!1,null,null,null).exports,"v-akw":Object(r.a)(o,(function(){var e=this.$createElement,t=this._self._c||e;return 0!==this.AkwDead?t("div",{staticClass:"akw-box"},[t("img",{staticClass:"akw-symbole",attrs:{src:"images/akw.png",alt:"AKW",width:"300px"}}),this._v(" "),t("span",[this._v(" "+this._s(this.numberWithDot(this.CounterNumber)))])]):this._e()}),[],!1,null,null,null).exports}},l=Object(r.a)(u,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"score-board"},[t("div",{staticClass:"infected"},[t("v-gauge",{attrs:{name:"Infizierte:",number:this.Infected}})],1),this._v(" "),t("div",{staticClass:"statistics"},[t("v-akw")],1),this._v(" "),t("div",{staticClass:"dead"},[t("v-gauge",{attrs:{name:"Tote:",number:this.Dead}})],1)])}),[],!1,null,null,null).exports,d=s("+sS5"),c=s("vDqi"),h=s.n(c),m={name:"Game",mixins:[a],data:function(){return{videoEnd:!1,videoPause:!1,ProgressStatus:"1",VideoSource:"/video/vid_1.mp4",PlayerName:null,PlayerNameError:!1,VideoCurrentTime:null,GameTimer:null}},components:{"app-score":l,"app-header":d.default},computed:Object(n.b)({storyLine:"getStoryLineList",Timer:"getTimer",elapsedTime:"getElapsedTime"}),watch:{VideoCurrentTime:function(e,t){}},created:function(){this.VideoSource=this.storyLine[this.ProgressStatus].video,this.GameTimerStart()},methods:{OnEnd:function(){this.videoEnd=!0},OnPause:function(){this.videoEnd=!0},OnStart:function(){this.videoEnd=!1},GameTimerStart:function(){var e=this;this.GameTimerStart=setInterval((function(){var t=e.$store.getters.getTimer;t+=1,e.$store.dispatch("handleChangeTimer",t);var s=e.formattedElapsedTime(t);e.$store.dispatch("handleChangeElapsedTime",s)}),1e3)},formattedElapsedTime:function(e){var t=new Date(null);t.setSeconds(e/1);var s=t.toUTCString();return s.substr(s.indexOf(":")-2,8)},updateVideoTime:function(){var e=this.$refs.videoRef,t=this.$refs.videoRef.duration-this.storyLine[this.ProgressStatus].Overlay,s=this.$refs.videoRef.currentTime,n=this.storyLine[this.ProgressStatus].type;if(e.volume=1,e.muted=!1,"question"===n)t<s&&(this.videoEnd=!0);else if("continue"===n&&e.duration===s){var a=this.storyLine[this.ProgressStatus].continueStory.next;this.nextProgress(a)}else e.duration===s&&(this.videoEnd=!0);this.VideoCurrentTime=this.$refs.videoRef.currentTime},nextProgress:function(e){var t=this;setTimeout((function(){t.ProgressStatus=e,t.VideoSource=t.storyLine[e].video,t.$refs.videoRef.load(),t.videoEnd=!1}),500),this.storyLine[e].InfectedDelay?setTimeout((function(){t.CalculateInfectionAndDead(e)}),this.storyLine[e].InfectedDelay):this.CalculateInfectionAndDead(e),this.storyLine[e].AKW&&this.CalculateAKW(e)},CalculateInfectionAndDead:function(e){var t=this.storyLine[e].MinMaxInfected,s=this.storyLine[e].MinMaxDead,n=this.RandomMinMaxNumber(t[0],t[1]),a=this.RandomMinMaxNumber(s[0],s[1]);this.$store.dispatch("handleChangeInfectedValue",n),this.$store.dispatch("handleChangeDeadValue",a)},CalculateAKW:function(e){var t=this.storyLine[e].AKW,s=this.RandomMinMaxNumber(t[0],t[1]);this.$store.dispatch("handleChangeAkwValue",s)},RandomMinMaxNumber:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},Player_Name_Check:function(){var e=[];return null!==this.PlayerName&&e.push("null"),this.PlayerName.match("([A-Za-z0-9])\\w+")||e.push("regex"),this.PlayerName.length>15&&e.push("lenght"),e},Submit_Player:function(){var e=this,t=this.Player_Name_Check,s=this.$store.getters.getTimer,n=this.$store.getters.getDead,a=Math.round(s/n*1e8),i={name:this.PlayerName,infected:this.$store.getters.getInfected,deceased:this.$store.getters.getDead,time:this.$store.getters.getElapsedTime,rang:a};0===t.length?h.a.post("api/score/create",i).then((function(t){200===t.status&&e.$router.push({name:"leaderboard"})})).catch((function(t){console.error(t),e.PlayerNameError=!0})):this.PlayerNameError=!0},Cheat:function(){this.videoEnd=!0}},destroyed:function(){this.$store.dispatch("handleChangeInfectedValue",0),this.$store.dispatch("handleChangeDeadValue",0),this.$store.dispatch("handleChangeAkwValue",0),this.$store.dispatch("handleChangeTimer",0),this.$store.dispatch("handleChangeElapsedTime","00:00:00")}},v=Object(r.a)(m,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container-video"},[s("video",{ref:"videoRef",class:{"end-video":e.videoEnd},attrs:{id:"Story-Line_Video",autoplay:""},on:{ended:function(t){return e.OnEnd()},pause:e.OnPause,play:e.OnStart,timeupdate:e.updateVideoTime}},[s("source",{attrs:{src:e.VideoSource+"webm",type:"video/webm"}}),e._v(" "),s("source",{attrs:{src:e.VideoSource+"mp4",type:"video/mp4"}})]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.ProgressStatus,expression:"ProgressStatus"}],attrs:{type:"hidden"},domProps:{value:e.ProgressStatus},on:{input:function(t){t.target.composing||(e.ProgressStatus=t.target.value)}}}),e._v(" "),s("div",{class:{"video-container-grid-end":e.videoEnd,"video-container-grid":!e.videoEnd}},[s("div",{staticClass:"top"},[s("div",{staticClass:"left"},[e.videoEnd?s("router-link",{staticClass:"exit-button",attrs:{to:{name:"home"}}},[s("i",{staticClass:"icon-exit"}),e._v("\n                        Exit\n                    ")]):e._e()],1),e._v(" "),s("div",{staticClass:"right"},[e.videoEnd?s("span",[e._v(e._s(e.elapsedTime))]):e._e()])]),e._v(" "),e.videoEnd?s("div",{staticClass:"middle"},["question"===e.storyLine[e.ProgressStatus].type?s("div",{staticClass:"story-line_question"},[s("div",[s("p",{staticClass:"question"},[e._v(e._s(this.storyLine[this.ProgressStatus].question))]),e._v(" "),s("div",{staticClass:"options"},[s("div",{staticClass:"option_one"},[s("div",[void 0!==this.storyLine[this.ProgressStatus].question?s("button",{staticClass:"responseBtn",on:{click:function(t){return e.nextProgress(e.storyLine[e.ProgressStatus].firstOption.next)}}},[e._v("\n                                        "+e._s(e.storyLine[this.ProgressStatus].firstOption.response)+"\n                                        "),s("span",{staticClass:"line-1"}),e._v(" "),s("span",{staticClass:"line-2"}),e._v(" "),s("span",{staticClass:"line-3"}),e._v(" "),s("span",{staticClass:"line-4"})]):e._e()])]),e._v(" "),s("div",{staticClass:"option_two"},[s("div",[void 0!==this.storyLine[this.ProgressStatus].question?s("button",{staticClass:"responseBtn",on:{click:function(t){return e.nextProgress(e.storyLine[e.ProgressStatus].secondOption.next)}}},[e._v("\n                                        "+e._s(e.storyLine[this.ProgressStatus].secondOption.response)+"\n                                        "),s("span",{staticClass:"line-1"}),e._v(" "),s("span",{staticClass:"line-2"}),e._v(" "),s("span",{staticClass:"line-3"}),e._v(" "),s("span",{staticClass:"line-4"})]):e._e()])])])])]):e._e(),e._v(" "),"continue"===e.storyLine[e.ProgressStatus].type?s("div",{staticClass:"story-line_continue"}):e._e(),e._v(" "),"end"===e.storyLine[e.ProgressStatus].type?s("div",{staticClass:"story-line_end"},[s("label",{attrs:{for:"name"}},[e._v("Name")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.PlayerName,expression:"PlayerName"}],staticClass:"input_end_name",attrs:{type:"text",name:"name",id:"name",placeholder:"Dein Name"},domProps:{value:e.PlayerName},on:{input:function(t){t.target.composing||(e.PlayerName=t.target.value)}}}),e._v(" "),s("button",{staticClass:"responseBtn",on:{click:e.Submit_Player}},[e._v("\n                        Senden\n                        "),s("span",{staticClass:"line-1"}),e._v(" "),s("span",{staticClass:"line-2"}),e._v(" "),s("span",{staticClass:"line-3"}),e._v(" "),s("span",{staticClass:"line-4"})]),e._v(" "),e.PlayerNameError?s("span",{staticClass:"error-msg"},[e._v("Der Name darf nur aus Buchstaben und Zahlen bestehen! (A-Z,a-z,0-9) ")]):e._e()]):e._e()]):e._e(),e._v(" "),s("div",{staticClass:"bottom"},[s("app-score")],1)])])}),[],!1,null,null,null);t.default=v.exports}}]);